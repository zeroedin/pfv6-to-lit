<h3 class="pf-v6-c-content--h3">Slider value is: <span id="value1-display">50</span></h3>
<pfv6-slider id="slider1" value="50">
  <pfv6-button slot="start-actions" variant="plain" aria-label="Minus" id="minus-btn">
    <pfv6-icon slot="icon">
      <svg fill="currentColor" height="1em" width="1em" viewBox="0 0 448 512" aria-hidden="true" role="img">
        <path d="M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"></path>
      </svg>
    </pfv6-icon>
  </pfv6-button>
  <pfv6-button slot="end-actions" variant="plain" aria-label="Plus" id="plus-btn">
    <pfv6-icon slot="icon">
      <svg fill="currentColor" height="1em" width="1em" viewBox="0 0 448 512" aria-hidden="true" role="img">
        <path d="M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"></path>
      </svg>
    </pfv6-icon>
  </pfv6-button>
</pfv6-slider>

<br>
<br>

<pfv6-slider
  id="slider2"
  value="50"
  input-value="50"
  is-input-visible
  input-label="%">
  <pfv6-button slot="end-actions" variant="plain" aria-label="Lock" id="lock-btn">
    <pfv6-icon slot="icon" id="lock-icon">
      <svg fill="currentColor" height="1em" width="1em" viewBox="0 0 576 512" aria-hidden="true" role="img">
        <path d="M423.5 0C339.5.3 272 69.5 272 153.5V224H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48h-48v-71.1c0-39.6 31.7-72.5 71.3-72.9 40-.4 72.7 32.1 72.7 72v80c0 13.3 10.7 24 24 24h32c13.3 0 24-10.7 24-24v-80C576 68 507.5-.3 423.5 0z"></path>
      </svg>
    </pfv6-icon>
  </pfv6-button>
</pfv6-slider>

<script type="module">
  import '@pfv6/elements/pfv6-slider/pfv6-slider.js';
  import '@pfv6/elements/pfv6-button/pfv6-button.js';
  import '@pfv6/elements/pfv6-icon/pfv6-icon.js';

  const slider1 = document.getElementById('slider1');
  const slider2 = document.getElementById('slider2');
  const value1Display = document.getElementById('value1-display');
  const minusBtn = document.getElementById('minus-btn');
  const plusBtn = document.getElementById('plus-btn');
  const lockBtn = document.getElementById('lock-btn');
  const lockIcon = document.getElementById('lock-icon');

  let value1 = 50;
  let value2 = 50;
  let inputValue = 50;
  let isDisabled = false;

  const lockOpenPath = 'M423.5 0C339.5.3 272 69.5 272 153.5V224H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48h-48v-71.1c0-39.6 31.7-72.5 71.3-72.9 40-.4 72.7 32.1 72.7 72v80c0 13.3 10.7 24 24 24h32c13.3 0 24-10.7 24-24v-80C576 68 507.5-.3 423.5 0z';
  const lockPath = 'M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z';

  // Slider 1 change handler
  slider1.addEventListener('change', (e) => {
    value1 = Math.floor(Number(e.value));
    slider1.value = value1;
    value1Display.textContent = value1;
  });

  // Minus button handler
  minusBtn.addEventListener('click', () => {
    const newValue = value1 - 1;
    if (newValue >= 0) {
      value1 = newValue;
      slider1.value = value1;
      value1Display.textContent = value1;
    }
  });

  // Plus button handler
  plusBtn.addEventListener('click', () => {
    const newValue = value1 + 1;
    if (newValue <= 100) {
      value1 = newValue;
      slider1.value = value1;
      value1Display.textContent = value1;
    }
  });

  // Slider 2 change handler with input value handling
  slider2.addEventListener('change', (e) => {
    const { value, inputValue: newInputValue } = e;
    let newValue;

    if (newInputValue === undefined) {
      newValue = Math.floor(Number(value));
    } else {
      if (newInputValue > 100) {
        newValue = 100;
        slider2.inputValue = 100;
      } else if (newInputValue < 0) {
        newValue = 0;
        slider2.inputValue = 0;
      } else {
        newValue = Math.floor(newInputValue);
      }
    }

    value2 = newValue;
    inputValue = newValue;
    slider2.value = newValue;
    slider2.inputValue = newValue;
  });

  // Lock button handler
  lockBtn.addEventListener('click', () => {
    isDisabled = !isDisabled;
    slider2.disabled = isDisabled;

    const svg = lockIcon.querySelector('svg');
    const path = svg.querySelector('path');
    path.setAttribute('d', isDisabled ? lockPath : lockOpenPath);
    svg.setAttribute('viewBox', isDisabled ? '0 0 448 512' : '0 0 576 512');
    lockBtn.setAttribute('aria-label', isDisabled ? 'Unlock' : 'Lock');
  });
</script>
