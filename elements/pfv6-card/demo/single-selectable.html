<pfv6-checkbox id="single-select-toggle-hide-radio-button">Hide radio button</pfv6-checkbox>

<pfv6-gallery has-gutter style="margin-top: 15px;">
  <pfv6-card id="single-selectable-card-example-1" is-selectable>
    <pfv6-card-header
      id="header-1"
      selectable-variant="single"
      selectable-id="single-selectable-card-input-1"
      selectable-name="single-selectable-card-example"
      selectable-aria-labelledby="single-selectable-card-example-1"
      actions-no-offset
    >
      <pfv6-card-title>First card</pfv6-card-title>
    </pfv6-card-header>
    <pfv6-card-body>This card is single selectable.</pfv6-card-body>
  </pfv6-card>
  
  <pfv6-card id="single-selectable-card-example-2" is-selectable>
    <pfv6-card-header
      id="header-2"
      selectable-variant="single"
      selectable-id="single-selectable-card-input-2"
      selectable-name="single-selectable-card-example"
      selectable-aria-labelledby="single-selectable-card-example-2"
      actions-no-offset
    >
      <pfv6-card-title>Second card</pfv6-card-title>
    </pfv6-card-header>
    <pfv6-card-body>This card is single selectable.</pfv6-card-body>
  </pfv6-card>
  
  <pfv6-card id="single-selectable-card-example-3" is-selectable is-disabled>
    <pfv6-card-header
      id="header-3"
      selectable-variant="single"
      selectable-id="single-selectable-card-input-3"
      selectable-name="single-selectable-card-example"
      selectable-aria-labelledby="single-selectable-card-example-3"
      selectable-disabled
      actions-no-offset
    >
      <pfv6-card-title>Third card</pfv6-card-title>
    </pfv6-card-header>
    <pfv6-card-body>This card is single selectable but disabled.</pfv6-card-body>
  </pfv6-card>
</pfv6-gallery>

<script type="module">
  import '@pfv6/elements/pfv6-card/pfv6-card.js';
  import '@pfv6/elements/pfv6-gallery/pfv6-gallery.js';
  import '@pfv6/elements/pfv6-checkbox/pfv6-checkbox.js';
  
  const cards = document.querySelectorAll('pfv6-card[is-selectable]');
  const headers = [
    document.getElementById('header-1'),
    document.getElementById('header-2'),
    document.getElementById('header-3')
  ];
  const hideToggle = document.getElementById('single-select-toggle-hide-radio-button');
  
  // Handle single selection (radio button logic)
  headers.forEach((header, index) => {
    header.addEventListener('change', (e) => {
      const checked = e.detail.checked;
      
      if (checked) {
        // Unselect all other cards
        cards.forEach((card, i) => {
          if (i !== index) {
            card.removeAttribute('is-selected');
            headers[i].removeAttribute('selectable-checked');
          }
        });
        
        // Select this card
        cards[index].setAttribute('is-selected', '');
        header.setAttribute('selectable-checked', '');
      }
    });
  });
  
  // Handle hide radio button toggle
  hideToggle.addEventListener('change', (e) => {
    const shouldHide = e.target.checked;
    headers.forEach(header => {
      header.toggleAttribute('selectable-hidden', shouldHide);
    });
  });
</script>
