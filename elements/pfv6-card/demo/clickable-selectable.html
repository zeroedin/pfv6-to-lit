<pfv6-checkbox id="toggle-variant-clickable-selectable">secondary styling</pfv6-checkbox>

<div style="margin-top: 15px;">
  <pfv6-gallery has-gutter>
    <pfv6-card 
      id="clickable-selectable-card-example-1" 
      is-clickable 
      is-selectable 
     
     
    >
      <pfv6-card-header
        id="header-1"
        selectable-variant="multiple"
        selectable-id="clickable-selectable-card-input-1"
        selectable-name="clickable-selectable-card-input-1"
        selectable-aria-labelledby="clickable-selectable-card-example-1"
        actions-no-offset
      >
        <pfv6-card-title>
          <!-- TODO: Replace with <pfv6-button variant="link" inline> when available -->
          <button 
            id="title-button-1"
            style="all: unset; color: var(--pf-t--global--color--brand--default); cursor: pointer; text-decoration: underline;"
          >
            First card
          </button>
        </pfv6-card-title>
      </pfv6-card-header>
      <pfv6-card-body>This card performs an action upon clicking the card title and is selectable.</pfv6-card-body>
    </pfv6-card>
    
    <pfv6-card 
      id="clickable-selectable-card-example-2" 
      is-clickable 
      is-selectable 
     
    >
      <pfv6-card-header
        id="header-2"
        selectable-variant="multiple"
        selectable-id="clickable-selectable-card-input-2"
        selectable-name="clickable-selectable-card-input-2"
        selectable-aria-labelledby="clickable-selectable-card-example-2"
        actions-no-offset
      >
        <pfv6-card-title>Second Card</pfv6-card-title>
      </pfv6-card-header>
      <pfv6-card-body>
        This card is selectable and has a link in the card body that navigates to 
        <!-- TODO: Replace with <pfv6-button variant="link" inline> when available -->
        <a 
          href="#" 
          style="color: var(--pf-t--global--color--brand--default); text-decoration: underline;"
        >
          Patternfly
        </a>.
      </pfv6-card-body>
    </pfv6-card>
    
    <pfv6-card 
      id="clickable-selectable-card-example-3" 
      is-clickable 
      is-selectable 
      is-disabled 
     
    >
      <pfv6-card-header
        id="header-3"
        selectable-variant="multiple"
        selectable-id="clickable-selectable-card-input-3"
        selectable-name="clickable-selectable-card-input-3"
        selectable-aria-labelledby="clickable-selectable-card-example-3"
        selectable-disabled
        actions-no-offset
      >
        <pfv6-card-title>
          <!-- TODO: Replace with <pfv6-button variant="link" inline disabled> when available -->
          <a 
            href="https://www.patternfly.org/" 
            style="color: var(--pf-t--global--icon--color--on-disabled); text-decoration: underline; pointer-events: none;"
          >
            Third card
          </a>
        </pfv6-card-title>
      </pfv6-card-header>
      <pfv6-card-body>This card is clickable and selectable, but disabled.</pfv6-card-body>
    </pfv6-card>
  </pfv6-gallery>
</div>

<script type="module">
  import '@pfv6/elements/pfv6-card/pfv6-card.js';
  import '@pfv6/elements/pfv6-gallery/pfv6-gallery.js';
  import '@pfv6/elements/pfv6-checkbox/pfv6-checkbox.js';
  
  const cards = document.querySelectorAll('pfv6-card[is-selectable]');
  const headers = [
    document.getElementById('header-1'),
    document.getElementById('header-2'),
    document.getElementById('header-3')
  ];
  const variantToggle = document.getElementById('toggle-variant-clickable-selectable');
  const titleButton = document.getElementById('title-button-1');
  const card1 = document.getElementById('clickable-selectable-card-example-1');
  
  // Handle card selection via header change events
  headers.forEach((header, index) => {
    header.addEventListener('change', (e) => {
      const checked = e.checked;
      if (checked) {
        cards[index].setAttribute('is-selected', '');
        header.setAttribute('selectable-checked', '');
      } else {
        cards[index].removeAttribute('is-selected');
        header.removeAttribute('selectable-checked');
      }
    });
  });
  
  // Handle secondary variant toggle
  variantToggle.addEventListener('change', (e) => {
    const isSecondary = e.target.checked;
    cards.forEach(card => {
      card.variant = isSecondary ? 'secondary' : 'default';
    });
  });
  
  // Handle title button click (toggle isClicked state)
  titleButton.addEventListener('click', () => {
    const isClicked = card1.hasAttribute('is-clicked');
    if (isClicked) {
      card1.removeAttribute('is-clicked');
    } else {
      card1.setAttribute('is-clicked', '');
    }
  });
</script>
