<link rel="stylesheet" href="/elements/pfv6-flex/pfv6-flex-lightdom.css">

<pfv6-gallery has-gutter>
  <pfv6-card id="tile-example-1" is-selectable>
    <pfv6-card-header
      id="header-1"
      selectable-variant="single"
      selectable-id="tile-1"
      selectable-name="tile-1"
      selectable-aria-labelledby="tile-example-1"
      selectable-hidden
    >
      <pfv6-flex gap="sm" align-items="center">
        <pfv6-flex-item>
          <!-- TODO: Replace with <pfv6-icon> when available -->
          <span>+</span>
        </pfv6-flex-item>
        <pfv6-flex-item>
          <b>Tile header</b>
        </pfv6-flex-item>
      </pfv6-flex>
    </pfv6-card-header>
    <pfv6-card-body>Tile content and description</pfv6-card-body>
  </pfv6-card>
  
  <pfv6-card id="tile-example-2" is-selectable>
    <pfv6-card-header
      id="header-2"
      selectable-variant="single"
      selectable-id="tile-2"
      selectable-name="tile-2"
      selectable-aria-labelledby="tile-example-2"
      selectable-hidden
    >
      <pfv6-flex gap="sm" align-items="center">
        <pfv6-flex-item>
          <span>+</span>
        </pfv6-flex-item>
        <pfv6-flex-item>
          <b>Tile header</b>
        </pfv6-flex-item>
      </pfv6-flex>
    </pfv6-card-header>
    <pfv6-card-body>Tile content and description</pfv6-card-body>
  </pfv6-card>
  
  <pfv6-card id="tile-example-3" is-selectable is-disabled>
    <pfv6-card-header
      id="header-3"
      selectable-variant="single"
      selectable-id="tile-3"
      selectable-name="tile-3"
      selectable-aria-labelledby="tile-example-3"
      selectable-disabled
      selectable-hidden
    >
      <pfv6-flex gap="sm" align-items="center">
        <pfv6-flex-item>
          <span>+</span>
        </pfv6-flex-item>
        <pfv6-flex-item>
          <b>Tile header (disabled)</b>
        </pfv6-flex-item>
      </pfv6-flex>
    </pfv6-card-header>
    <pfv6-card-body>Tile content and description</pfv6-card-body>
  </pfv6-card>
</pfv6-gallery>

<script type="module">
  import '@pfv6/elements/pfv6-card/pfv6-card.js';
  import '@pfv6/elements/pfv6-gallery/pfv6-gallery.js';
  import '@pfv6/elements/pfv6-flex/pfv6-flex.js';
  
  const cards = document.querySelectorAll('pfv6-card[is-selectable]');
  const headers = [
    document.getElementById('header-1'),
    document.getElementById('header-2'),
    document.getElementById('header-3')
  ];
  
  // Handle single selection (radio button logic)
  headers.forEach((header, index) => {
    header.addEventListener('change', (e) => {
      const checked = e.checked;
      
      if (checked) {
        // Unselect all other cards
        cards.forEach((card, i) => {
          if (i !== index) {
            card.removeAttribute('is-selected');
            headers[i].removeAttribute('selectable-checked');
          }
        });
        
        // Select this card
        cards[index].setAttribute('is-selected', '');
        header.setAttribute('selectable-checked', '');
      }
    });
  });
</script>
